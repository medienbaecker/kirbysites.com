(()=>{var i=class{constructor(){this.bannerKey="oldBrowserBanner",this.init()}init(){typeof CSSLayerBlockRule!="function"&&!localStorage.getItem(this.bannerKey)&&this.showBanner()}showBanner(){let e=document.createElement("a");e.style="position:fixed;top:0;left:0;width:100%;padding:1rem;background:red;text-align:center;color:#fff;z-index:9999999;cursor:pointer",e.innerHTML=this.getBannerMessage(),e.addEventListener("click",()=>this.dismissBanner(e)),document.body.appendChild(e)}getBannerMessage(){return(navigator.language||navigator.userLanguage).startsWith("de")?"Sie verwenden einen veralteten Browser. Die Website kann nicht korrekt angezeigt werden.":"You are using an outdated browser. The website can not be displayed correctly."}dismissBanner(e){e.remove(),localStorage.setItem(this.bannerKey,"dismissed")}};var r=class{constructor(){this.init()}init(){document.querySelectorAll('[loading="lazy"]').forEach(e=>{let t=()=>{e.style.opacity="1"};e.complete?t():e.addEventListener("load",t)})}};var a=class{constructor(){this.setupEventListeners()}setupEventListeners(){window.addEventListener("pageswap",e=>{this.handlePageTransition(e,"outgoing")}),window.addEventListener("pagereveal",e=>{this.handlePageTransition(e,"incoming")})}handlePageTransition(e,t){if(!e.viewTransition)return;let n=this.getTargetUrl(e,t),c=this.setImageTransitionName(n);this.scheduleTransitionCleanup(c,e.viewTransition)}getTargetUrl(e,t){return t==="outgoing"?new URL(e.activation.entry.url):new URL(navigation.activation.from.url)}setImageTransitionName(e){let t=e.pathname.split("/").pop(),n=document.getElementById(t);return n?(n.style.viewTransitionName=t,n):null}async scheduleTransitionCleanup(e,t){e&&t&&(await t.finished,e.style.viewTransitionName="")}};var s=class{constructor(){this.init()}init(){this.applyInitialTheme(),this.bindEvents()}applyInitialTheme(){let e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)}getSystemPreference(){return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}getCurrentTheme(){return document.documentElement.getAttribute("data-theme")||this.getSystemPreference()}setTheme(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),this.updateToggleButton()}toggleTheme(){let t=this.getCurrentTheme()==="light"?"dark":"light";this.setTheme(t)}updateToggleButton(){let e=document.querySelector("[data-theme-toggle]");if(!e)return;let n=this.getCurrentTheme()==="light";e.setAttribute("aria-pressed",n.toString()),e.setAttribute("aria-label",`Switch to ${n?"dark":"light"} mode`)}bindEvents(){document.addEventListener("click",e=>{e.target.closest("[data-theme-toggle]")&&(e.preventDefault(),this.toggleTheme())}),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{localStorage.getItem("theme")||this.updateToggleButton()}),this.updateToggleButton()}};var w=window.matchMedia("(prefers-reduced-motion: reduce)").matches;new i;new r;new a;new s;})();
//# sourceMappingURL=main.min.js.map
